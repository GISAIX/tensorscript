<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | TensorScript</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Deep Learning Classification, Clustering, Time Series, Regression and Multi-Layered Perceptrons with Tensorflow"><meta property="og:type" content="website"><meta property="og:url" content="https://repetere.github.io/tensorscript"><meta property="og:site_name" content="TensorScript"><meta property="og:title" content="TensorScript"><meta property="og:image" content="https://repetere.ai/favicon.png"><meta property="og:description" content="Deep Learning Classification, Clustering, Time Series, Regression and Multi-Layered Perceptrons with Tensorflow"><meta property="og:author" content="https://github.com/repetere"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="TensorScript"><meta property="twitter:description" content="Deep Learning Classification, Clustering, Time Series, Regression and Multi-Layered Perceptrons with Tensorflow"><meta property="twitter:image" content="https://repetere.ai/favicon.png"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/repetere/tensorscript"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/overview.html"><a href="manual/overview.html" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#configuration" data-ice="link">Configuration</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#model-constructor-example" data-ice="link">Model constructor example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#trainning" data-ice="link">Trainning</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#trainning-example" data-ice="link">Trainning example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#predicting" data-ice="link">Predicting</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#predicting-example" data-ice="link">Predicting example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#examples" data-ice="link">Examples</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/usage.html"><a href="manual/usage.html" data-ice="link">TensorScript</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#-a-href--https---github-com-repetere-tensorscript-blob-master-docs-api-md--full-documentation--a-" data-ice="link">Full Documentation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#installation" data-ice="link">Installation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/usage.html"><a href="manual/usage.html#classification" data-ice="link">Classification</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/usage.html"><a href="manual/usage.html#regression" data-ice="link">Regression</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/usage.html"><a href="manual/usage.html#multiple-linear-regression" data-ice="link">Multiple Linear Regression</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/usage.html"><a href="manual/usage.html#logistic-regression" data-ice="link">Logistic Regression</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#testing" data-ice="link">Testing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#contributing" data-ice="link">Contributing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#misc" data-ice="link">Misc</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/usage.html"><a href="manual/usage.html#license" data-ice="link">License</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/faq.html"><a href="manual/faq.html" data-ice="link">tutorial</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html" data-ice="link">Changelog</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/CHANGELOG.html"><a href="manual/CHANGELOG.html#1-0-0--2018-07-30-" data-ice="link">1.0.0 (2018-07-30)</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-user-index" data-ice="manualUserIndex"><h1 id="tensorscript---machine-learing-and-neural-networks-with-tensorflow">TensorScript - Machine Learing and Neural Networks with Tensorflow</h1><p><a href="https://coveralls.io/github/repetere/tensorscript?branch=master"><img src="https://coveralls.io/repos/github/repetere/tensorscript/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://travis-ci.org/repetere/tensorscript"><img src="https://travis-ci.org/repetere/tensorscript.svg?branch=master" alt="Build Status"></a></p>
<h2 id="introduction">Introduction</h2><p>This library is a compilation of model building modules with a consistent API for quickly implementing Tensorflow at edge(browser) or any JavaScript environment (Node JS / GPU).</p>
<h3 id="-a-href--https---repetere-github-io-tensorscript-manual-overview-html--read-the-manual--a-"><a href="https://repetere.github.io/tensorscript/manual/overview.html">Read the manual</a></h3><h2 id="list-of-tensorflow-models">List of Tensorflow models</h2><h3 id="classification">Classification</h3><ul>
<li>Deep Learning Classification: <a href="https://repetere.github.io/tensorscript/manual/usage.html#classification"><code>DeepLearningClassification</code></a></li>
<li>Logistic Regression: <a href="https://repetere.github.io/tensorscript/manual/usage.html#classification"><code>LogisticRegression</code></a></li>
</ul>
<h3 id="regression">Regression</h3><ul>
<li>Deep Learning Regression: <a href="https://repetere.github.io/tensorscript/manual/usage.html#regression"><code>DeepLearningRegression</code></a></li>
<li>Multivariate Linear Regression: <a href="https://repetere.github.io/tensorscript/manual/usage.html#regression"><code>MultipleLinearRegression</code></a></li>
</ul>
<h3 id="artificial-neural-networks--ann-">Artificial neural networks (ANN)</h3><ul>
<li>Multi-Layered Perceptrons: <a href="https://repetere.github.io/tensorscript/manual/usage.html#neural-networks"><code>BaseNeuralNetwork</code></a></li>
</ul>
<h3 id="lstm-time-series">LSTM Time Series</h3><ul>
<li>Long Short Term Memory Time Series: <a href="https://repetere.github.io/tensorscript/manual/usage.html#timeseries"><code>LSTMTimeSeries</code></a></li>
<li>Long Short Term Memory Multivariate Time Series: <a href="https://repetere.github.io/tensorscript/manual/usage.html#timeseries"><code>LSTMMultivariateTimeSeries</code></a></li>
</ul>
<h2 id="basic-usage">Basic Usage</h2><p>Tensorscript is and ECMA Script module designed to be used in an <code>ES2015+</code> environment, if you need compiled modules for older versions of node use the compiled modules in the legacy folder.</p>
<p>Please read more on tensorflow configuration options, specifying epochs, and using custom layers in <a href="https://repetere.github.io/tensorscript/manual/overview.html#configuration">configuration</a>.</p>
<h3 id="regression-examples">Regression Examples</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">import { MultipleLinearRegression, DeepLearningRegression, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

async function main(){
  const independentVariables = [ &apos;sqft&apos;, &apos;bedrooms&apos;,];
  const dependentVariables = [ &apos;price&apos;, ];
  const housingdataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/portland_housing_data.csv&apos;);
  const DataSet = new ms.DataSet(housingdataCSV);
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  const MLR = new MultipleLinearRegression();
  await MLR.train(x_matrix, y_matrix);
  const DLR = new DeepLearningRegression();
  await DLR.train(x_matrix, y_matrix);
  //1600 sqft, 3 bedrooms
  await MLR.predict([1650,3]); //=&gt;[293081.46]
  await DLR.predict([1650,3]); //=&gt;[293081.46]
}
main();</code>
</code></pre>
<h3 id="classification-examples">Classification Examples</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">import { DeepLearningClassification, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

async function main(){
  const independentVariables = [
    &apos;sepal_length_cm&apos;,
    &apos;sepal_width_cm&apos;,
    &apos;petal_length_cm&apos;,
    &apos;petal_width_cm&apos;,
  ];
  const dependentVariables = [
    &apos;plant_Iris-setosa&apos;,
    &apos;plant_Iris-versicolor&apos;,
    &apos;plant_Iris-virginica&apos;,
  ];
  const housingdataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/iris_data.csv&apos;);
  const DataSet = new ms.DataSet(housingdataCSV).fitColumns({ columns: {plant:&apos;onehot&apos;}, });
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  const nnClassification = new DeepLearningClassification();
  await nnClassification.train(x_matrix, y_matrix);
  const input_x = [
    [5.1, 3.5, 1.4, 0.2, ],
    [6.3, 3.3, 6.0, 2.5, ],
    [5.6, 3.0, 4.5, 1.5, ],
    [5.0, 3.2, 1.2, 0.2, ],
    [4.5, 2.3, 1.3, 0.3, ],
  ];
  const predictions = await nnClassification.predict(input_x); 
  const answers = await nnClassification.predict(input_x, { probability:false, });
  /*
    predictions = [
      [ 0.989512026309967, 0.010471616871654987, 0.00001649192017794121, ],
      [ 0.0000016141033256644732, 0.054614484310150146, 0.9453839063644409, ],
      [ 0.001930746017023921, 0.6456733345985413, 0.3523959517478943, ],
      [ 0.9875779747962952, 0.01239941269159317, 0.00002274810685776174, ],
      [ 0.9545140862464905, 0.04520365223288536, 0.0002823179238475859, ],
    ];
    answers = [
      [ 1, 0, 0, ], //setosa
      [ 0, 0, 1, ], //virginica
      [ 0, 1, 0, ], //versicolor
      [ 1, 0, 0, ], //setosa
      [ 1, 0, 0, ], //setosa
    ];
   */
}
main();</code>
</code></pre>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { LogisticRegression, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

async function main(){
  const independentVariables = [
    &apos;Age&apos;,
    &apos;EstimatedSalary&apos;,
  ];
  const dependentVariables = [
    &apos;Purchased&apos;,
  ];
  const housingdataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/social_network_ads.csv&apos;);
  const DataSet = new ms.DataSet(housingdataCSV).fitColumns({ columns: {Age:[&apos;scale&apos;,&apos;standard&apos;],
  EstimatedSalary:[&apos;scale&apos;,&apos;standard&apos;],}, });
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  const LR = new LogisticRegression();
  await LR.train(x_matrix, y_matrix);
  const input_x = [
    [-0.062482849427819266, 0.30083326827486173,], //0
    [0.7960601198093905, -1.1069168538010206,], //1
    [0.7960601198093905, 0.12486450301537644,], //0
    [0.4144854668150751, -0.49102617539282206,], //0
    [0.3190918035664962, 0.5061301610775946,], //1
  ];
  const predictions = await LR.predict(input_x); // =&gt; [ [ 0 ], [ 0 ], [ 1 ], [ 0 ], [ 1 ] ];
}
main();</code>
</code></pre>
<h3 id="time-series-example">Time Series Example</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">import { LSTMTimeSeries, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

async function main(){
  const dependentVariables = [
    &apos;Passengers&apos;,
  ];
  const airlineCSV = await ms.csv.loadCSV(&apos;./test/mock/data/airline-sales.csv&apos;);
  const DataSet = new ms.DataSet(airlineCSV);
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const TS = new LSTMTimeSeries();
  await TS.train(x_matrix);
  const forecastData = TS.getTimeseriesDataSet([ [100 ], [200], [300], ])
  await TS.predict(forecastData.x_matrix); //=&gt;[200,300,400]
}
main();</code>
</code></pre>
<h3 id="testing">Testing</h3><pre><code class="lang-sh"><code class="source-code prettyprint">$ npm i
$ npm test</code>
</code></pre>
<h3 id="contributing">Contributing</h3><p>Fork, write tests and create a pull request!</p>
<h3 id="misc">Misc</h3><p>As of Node 8, ES modules are still used behind a flag, when running natively as an ES module</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">$ node --experimental-modules my-machine-learning-script.mjs
# Also there are native bindings that require Python 2.x, make sure if you&apos;re using Andaconda, you build with your Python 2.x bin
$ npm i --python=/usr/bin/python</code>
</code></pre>
<h2 id="license">License</h2><p>MIT</p>
</div>

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Overview</h1><p>All of the model building classes are structured similarly to ml.js models. Each model has three shared components regardless if it&apos;s a regression, classification or time series model.</p><p>This library was built to quickly implement <a href="https://js.tensorflow.org">Tensorflow</a> and <a href="https://js.tensorflow.org/tutorials/import-keras.html">Keras</a> models in JavaScript.</p><h2>Configuration</h2><p>All of the model configuration is managed during creating an instance of the class. All models have <code>fit</code> and <code>compile</code> properties that are assigned to the instance <code>settings</code> property.</p><p>You can also pass the Tensorflow reference to be used, as a configuration property if you want to use the compiled C++ or GPU via CUDA versions on the <code>tf</code> property;</p><ul>
<li><code>this.settings.compile</code> is passed to <code>tensorflow.model.compile</code> and contains the configuration for optimiziers (<a href="https://js.tensorflow.org/api/latest/#tf.Model.compile"><code>read more</code></a>).</li>
<li><code>this.settings.fit</code> is passed to <code>tensorflow.model.fit</code> and contains the configuration for model fitting (<a href="https://js.tensorflow.org/api/latest/#tf.Sequential.fit"><code>read more</code></a>)</li>
</ul><h3>Model constructor example</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">import { MultipleLinearRegression, } from &apos;tensorscript&apos;;
import tf from &apos;@tensorflow/tfjs-node-gpu&apos;;

const MLR = new MultipleLinearRegression({
  fit:{
    epochs:500,
    batchSize:5,
  },
  compile:{
    loss: &apos;meanSquaredError&apos;,
    optimizer: &apos;adam&apos;,
  },
},{
  tf,
});</code>
</code></pre><p>Each constructor takes two parameters <code>settings</code> and <code>properties</code>. As in the example above, <em>settings</em> are used to configure tensorflow objects and properties are used to configure tensorscript (like which version of tensorflow to use).</p><h2>Trainning</h2><p>All tensorflow models train asynchronously, therefore all tensorscript model train functions are all asynchronous. Always pass dependent and independent variables as matrix inputs.</p><p>Timeseries models can be trained with only one input matrix.</p><h3>Trainning example</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">
import { MultipleLinearRegression, } from &apos;tensorscript&apos;;

async function main(){
  const MLR = new MultipleLinearRegression();
  const x = [ [1], [2] ];
  const y = [ [3], [4] ];
  await MLR.train(x,y);
}</code>
</code></pre><h2>Predicting</h2><p>All prediction inputs must be the same shape as trainning inputs. TensorScript provides an asynchronous predict method that converts tensor values to javascript objects. If you want the tensor from tensorflow, use the calculate method instead.</p><h3>Predicting example</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">import { MultipleLinearRegression, } from &apos;tensorscript&apos;;

async function main(){
  const MLR = new MultipleLinearRegression();
  const x = [ [1], [2] ];
  const y = [ [3], [4] ];
  await MLR.train(x,y);

  await MLR.predict([[3]]) //=&gt; [[5]];
  const tensorPrediction = await MLR.calculate([[3]]) //=&gt; [[5]];
  tensorPrediction.data()
    .then(tensors=&gt; /*Typed Array*/)
}</code>
</code></pre><h2>Examples</h2><p>For more examples on how to do feature scaling and more, check out the <em><a href="https://github.com/repetere/tensorscript/tree/master/manual/examples">Examples folder</a></em>.</p></div>
        <a data-ice="link" href="manual/overview.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>TensorScript</h1><p><a href="https://coveralls.io/github/repetere/tensorscript?branch=master"><img src="https://coveralls.io/repos/github/repetere/tensorscript/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://travis-ci.org/repetere/tensorscript"><img src="https://travis-ci.org/repetere/tensorscript.svg?branch=master" alt="Build Status"></a></p><p>Deep Learning Classification, LSTM Time Series, Regression and Multi-Layered Perceptrons with Tensorflow</p><h3><a href="https://github.com/repetere/tensorscript/blob/master/docs/API.md">Full Documentation</a></h3><h3>Installation</h3><pre><code class="lang-sh"><code class="source-code prettyprint">$ npm i tensorscript</code>
</code></pre><h3>Usage</h3><h4>Classification</h4><p>Test against the <a href="https://archive.ics.uci.edu/ml/datasets/Iris">Iris Flower Data Set</a></p><pre><code class="lang-javascript"><code class="source-code prettyprint">import { DeepLearningClassification, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

async function main(){
  const irisFlowerDataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/iris_data.csv&apos;);
  const DataSet = new ms.DataSet(irisFlowerDataCSV);
    /**
     * encodedData = [ 
     *  { sepal_length_cm: 5.1,
         sepal_width_cm: 3.5,
        petal_length_cm: 1.4,
        petal_width_cm: 0.2,
        plant: &apos;Iris-setosa&apos;,
        &apos;plant_Iris-setosa&apos;: 1,
        &apos;plant_Iris-versicolor&apos;: 0,
        &apos;plant_Iris-virginica&apos;: 0 },
        ...
        { sepal_length_cm: 5.9,
        sepal_width_cm: 3,
        petal_length_cm: 4.2,
        petal_width_cm: 1.5,
        plant: &apos;Iris-versicolor&apos;,
        &apos;plant_Iris-setosa&apos;: 0,
        &apos;plant_Iris-versicolor&apos;: 1,
        &apos;plant_Iris-virginica&apos;: 0 },
      ];
    */
  const encodedData = DataSet.fitColumns({
    columns: [
      {
        name: &apos;plant&apos;,
        options: {
          strategy: &apos;onehot&apos;,
        },
      },
    ],
    returnData:true,
  });
  const independentVariables = [
    &apos;sepal_length_cm&apos;,
    &apos;sepal_width_cm&apos;,
    &apos;petal_length_cm&apos;,
    &apos;petal_width_cm&apos;,
  ];
  const dependentVariables = [
    &apos;plant_Iris-setosa&apos;,
    &apos;plant_Iris-versicolor&apos;,
    &apos;plant_Iris-virginica&apos;,
  ];
  const x_matrix = DataSet.columnMatrix(independentVariables); 
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  /*
    x_matrix = [
      [ 5.1, 3.5, 1.4, 0.2 ],
      [ 4.9, 3, 1.4, 0.2 ],
      [ 4.7, 3.2, 1.3, 0.2 ],
      ...
    ]; 
    y_matrix = [
      [ 1, 0, 0 ],
      [ 1, 0, 0 ],
      [ 1, 0, 0 ],
      ...
    ] 
    */
  const input_x = [
    [5.1, 3.5, 1.4, 0.2, ],
    [6.3, 3.3, 6.0, 2.5, ],
    [5.6, 3.0, 4.5, 1.5, ],
    [5.0, 3.2, 1.2, 0.2, ],
    [4.5, 2.3, 1.3, 0.3, ],
  ];
  const nnClassification = new DeepLearningClassification();
  const nnClassificationModel = await nnClassification.train(x_matrix, y_matrix);
  const predictions = await nnClassification.predict(input_x);
  const answers = await nnClassification.predict(input_x, {
    probability:false,
  });
  /*
    predictions = [
      [ 0.989512026309967, 0.010471616871654987, 0.00001649192017794121, ],
      [ 0.0000016141033256644732, 0.054614484310150146, 0.9453839063644409, ],
      [ 0.001930746017023921, 0.6456733345985413, 0.3523959517478943, ],
      [ 0.9875779747962952, 0.01239941269159317, 0.00002274810685776174, ],
      [ 0.9545140862464905, 0.04520365223288536, 0.0002823179238475859, ],
    ];
    answers = [
      [ 1, 0, 0, ],
      [ 0, 0, 1, ],
      [ 0, 1, 0, ],
      [ 1, 0, 0, ],
      [ 1, 0, 0, ],
    ];
   */
}

main();
</code>
</code></pre><h4>Regression</h4><p>Test against the <a href="https://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/">Boston Housing Data Set</a></p><pre><code class="lang-javascript"><code class="source-code prettyprint">import { DeepLearningRegression, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

function scaleColumnMap(columnName) {
  return {
    name: columnName,
    options: {
      strategy: &apos;scale&apos;,
      scaleOptions: {
        strategy:&apos;standard&apos;
      }
    }
  }
}

async function main(){
  const housingdataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/boston_housing_data.csv&apos;);
  /*
  housingdataCSV = [
    { CRIM: 0.00632, ZN: 18, INDUS: 2.31, CHAS: 0, NOX: 0.538, RM: 6.575, AGE: 65.2, DIS: 4.09, RAD: 1, TAX: 296, PTRATIO: 15.3, B: 396.9, LSTAT: 4.98, MEDV: 24 },
    { CRIM: 0.02731, ZN: 0, INDUS: 7.07, CHAS: 0, NOX: 0.469, RM: 6.421, AGE: 78.9, DIS: 4.9671, RAD: 2, TAX: 242, PTRATIO: 17.8, B: 396.9, LSTAT: 9.14, MEDV: 21.6 },
    ...
  ]
  */
  const DataSet = new ms.DataSet(housingdataCSV);
  const independentVariables = [
    &apos;CRIM&apos;,
    &apos;ZN&apos;,
    &apos;INDUS&apos;,
    &apos;CHAS&apos;,
    &apos;NOX&apos;,
    &apos;RM&apos;,
    &apos;AGE&apos;,
    &apos;DIS&apos;,
    &apos;RAD&apos;,
    &apos;TAX&apos;,
    &apos;PTRATIO&apos;,
    &apos;B&apos;,
    &apos;LSTAT&apos;,
  ];
  const dependentVariables = [
    &apos;MEDV&apos;,
  ];
  const columns = independentVariables.concat(dependentVariables);
  DataSet.fitColumns({
    columns: columns.map(scaleColumnMap),
    returnData:false,
  });
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  /* x_matrix = [
    [ -0.41936692921321594, 0.2845482693404666, -1.2866362317172035, -0.272329067679207, -0.1440748547324509, 0.4132629204530747, -0.119894767215809, 0.1400749839795629, -0.981871187861867, -0.6659491794887338, -1.457557967289609, 0.4406158949991029, -1.074498970343932 ],
    [ -0.41692666996409716, -0.4872401872268264, -0.5927943782429392, -0.272329067679207, -0.7395303607434242, 0.1940823874370036, 0.3668034264326209, 0.5566090495704026, -0.8670244885881488, -0.9863533804386945, -0.3027944997494681, 0.4406158949991029, -0.49195252491856634 ]
    ...
  ];
  y_matrix = [
    [ 0.15952778852449556 ],
    [ -0.1014239172731213 ],
    ...
  ];
  const y_vector = ms.util.pivotVector(y_matrix)[ 0 ];// not used but just illustrative
  y_vector = [ 0.15952778852449556, -0.1014239172731213, ... ]
    */
  const input_x = [
    [-0.41936692921321594, 0.2845482693404666, -1.2866362317172035, -0.272329067679207, -0.1440748547324509, 0.4132629204530747, -0.119894767215809, 0.1400749839795629, -0.981871187861867, -0.6659491794887338, -1.457557967289609, 0.4406158949991029, -1.074498970343932,],
    [-0.41692666996409716, -0.4872401872268264, -0.5927943782429392, -0.272329067679207, -0.7395303607434242, 0.1940823874370036, 0.3668034264326209, 0.5566090495704026, -0.8670244885881488, -0.9863533804386945, -0.3027944997494681, 0.4406158949991029, -0.49195252491856634,],
  ];
  const nnRegression = new DeepLearningRegression();
  const model = await nnRegression.train(x_matrix, y_matrix);
  const predictions = await nnRegressionWide.predict(input_x); // [ [ 0.43396109342575073 ], [ 0.12437985092401505 ] ]
  const predictions_unscaled = predictions.map(pred=&gt;DataSet.scalers.get(&apos;MEDV&apos;).descale(pred[0])); //[ 26.523991670220486, 23.67674075943165 ]
}

main();</code>
</code></pre><h4>Multiple Linear Regression</h4><p>Test against the <a href="http://openclassroom.stanford.edu/MainFolder/DocumentPage.php?course=MachineLearning&amp;doc=exercises/ex3/ex3.html">Portland housing price dataset</a></p><pre><code class="lang-javascript"><code class="source-code prettyprint">import { MultipleLinearRegression, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

function scaleColumnMap(columnName) {
  return {
    name: columnName,
    options: {
      strategy: &apos;scale&apos;,
      scaleOptions: {
        strategy:&apos;standard&apos;
      }
    }
  }
}

async function main(){
  const housingdataCSV = await ms.csv.loadCSV(&apos;./test/mock/data/portland_housing_data.csv&apos;);
  /*
  housingdataCSV = [
    { sqft: 2104, bedrooms: 3, price: 399900 },
    { sqft: 1600, bedrooms: 3, price: 329900 },
    ...
    { sqft: 1203, bedrooms: 3, price: 239500 }
  ]
  */
  const DataSet = new ms.DataSet(housingdataCSV);
  DataSet.fitColumns({
    columns: [
      &apos;sqft&apos;,
      &apos;bedrooms&apos;,
      &apos;price&apos;,
    ].map(scaleColumnMap),
    returnData:true,
  });
  const independentVariables = [ &apos;sqft&apos;, &apos;bedrooms&apos;,];
  const dependentVariables = [ &apos;price&apos;, ];
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  /* x_matrix = [
      [2014, 3],
      [1600, 3],
    ];
    y_matrix = [
      [399900],
      [329900],
    ];
    const y_vector = ms.util.pivotVector(y_matrix)[ 0 ];// not used but just illustrative
    // y_vector = [ 399900, 329900]
   */
  const testSqft = DataSet.scalers.get(&apos;sqft&apos;).scale(1650);
  const testBedrooms = DataSet.scalers.get(&apos;bedrooms&apos;).scale(3);
  const input_x = [
    testSqft,
    testBedrooms,
  ]; // input_x: [ -0.4412732005944351, -0.2236751871685913 ]
  const tfMLR = new MultipleLinearRegression();
  const model = await tfMLR.train(x_matrix, y_matrix);
  const scaledPrediction = await tfMLR.predict(input_x); // [ -0.3785287367962629 ]
  const prediction = DataSet.scalers.get(&apos;price&apos;).descale(scaledPrediction); // prediction: 293081.4643348962
}

main();</code>
</code></pre><h4>Logistic Regression</h4><p>Test against the Social Media Ads</p><pre><code class="lang-javascript"><code class="source-code prettyprint">import { LogisticRegression, } from &apos;tensorscript&apos;;
import ms from &apos;modelscript&apos;;

function scaleColumnMap(columnName) {
  return {
    name: columnName,
    options: {
      strategy: &apos;scale&apos;,
      scaleOptions: {
        strategy:&apos;standard&apos;
      }
    }
  }
}

async function main(){
  const CSVData = await ms.csv.loadCSV(&apos;./test/mock/data/social_network_ads.csv&apos;);
  const DataSet = new ms.DataSet(CSVData);
  const scaledData = DataSet.fitColumns({
    columns: independentVariables.map(scaleColumnMap),
    returnData:true,
  });
  /*
    scaledData = [
      { &apos;User ID&apos;: 15624510,
         Gender: &apos;Male&apos;,
         Age: -1.7795687879022388,
         EstimatedSalary: -1.4881825118632386,
         Purchased: 0 },
      { &apos;User ID&apos;: 15810944,
         Gender: &apos;Male&apos;,
         Age: -0.253270175924977,
         EstimatedSalary: -1.458854384319991,
         Purchased: 0 },
      ...
    ];
    */
  const independentVariables = [
    &apos;Age&apos;,
    &apos;EstimatedSalary&apos;,
  ];
  const dependentVariables = [
    &apos;Purchased&apos;,
  ];
  const x_matrix = DataSet.columnMatrix(independentVariables);
  const y_matrix = DataSet.columnMatrix(dependentVariables);
  /*
    x_matrix = [
      [ -1.7795687879022388, -1.4881825118632386 ],
      [ -0.253270175924977, -1.458854384319991 ],
      ...
    ];
    y_matrix = [
      [ 0 ],
      [ 0 ],
      ...
    ];
    */
  const input_x = [
    [-0.062482849427819266, 0.30083326827486173,], //0
    [0.7960601198093905, -1.1069168538010206,], //1
    [0.7960601198093905, 0.12486450301537644,], //0
    [0.4144854668150751, -0.49102617539282206,], //0
    [0.3190918035664962, 0.5061301610775946,], //1
  ];
  const tfLR = new LogisticRegression();
  const model = await tfLR.train(x_matrix, y_matrix);
  const prediction = await tfLR.predict(input_x); // =&gt; [ [ 0 ], [ 0 ], [ 1 ], [ 0 ], [ 1 ] ],
}

main();</code>
</code></pre><h3>Testing</h3><pre><code class="lang-sh"><code class="source-code prettyprint">$ npm i
$ npm test</code>
</code></pre><h3>Contributing</h3><p>Fork, write tests and create a pull request!</p><h3>Misc</h3><p>As of Node 8, ES modules are still used behind a flag, when running natively as an ES module</p><pre><code class="lang-sh"><code class="source-code prettyprint">$ node --experimental-modules my-machine-learning-script.mjs
# Also there are native bindings that require Python 2.x, make sure if you&apos;re using Andaconda, you build with your Python 2.x bin
$ npm i --python=/usr/bin/python</code>
</code></pre><h2>License</h2><p>MIT</p></div>
        <a data-ice="link" href="manual/usage.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>tutorial</h1><p>this is the overview</p></div>
        <a data-ice="link" href="manual/faq.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Changelog</h1><h2>1.0.0 (2018-07-30)</h2><ul>
<li><strong>Feat</strong><ul>
<li>First Initial Release</li>
</ul>
</li>
<li><strong>Fix</strong><ul>
<li>N/A</li>
</ul>
</li>
<li><strong>Chore</strong><ul>
<li>Allow for multistep future forecasts in multivariate timeseries.</li>
<li>Add basic clustering example.</li>
</ul>
</li>
</ul></div>
        <a data-ice="link" href="manual/CHANGELOG.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
